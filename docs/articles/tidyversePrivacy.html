<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Privacy settings within dsTidyverse • dsTidyverse</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Privacy settings within dsTidyverse">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dsTidyverse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/tidyversePrivacy.html">Privacy settings within dsTidyverse</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Privacy settings within dsTidyverse</h1>
            
      

      <div class="hidden name"><code>tidyversePrivacy.Rmd</code></div>

    </div>

    
    
<p>Data owners can manage privacy settings in two main ways: (i) setting
the privacy control level, and (ii) controlling which additional
functions can be passed to <code>ds.tidyverse</code>.</p>
<div class="section level2">
<h2 id="privacy-control-levels">Privacy control levels<a class="anchor" aria-label="anchor" href="#privacy-control-levels"></a>
</h2>
<p>DataSHIELD implements <a href="https://wiki.datashield.org/en/opmanag/privacy-control-level" class="external-link">privacy
control levels</a>, which allows data owners to control which functions
can be used by researchers. The table below shows which dsTidyverse
functions are permitted in which privacy mode. This option can be set on
the server: for example to set to non-permissive mode use
<code>datashield.privacyControlLevel = "non-permissive"</code></p>
<table class="table">
<colgroup>
<col width="28%">
<col width="20%">
<col width="14%">
<col width="14%">
<col width="23%">
</colgroup>
<thead><tr class="header">
<th><strong>Function</strong></th>
<th><strong>Permissive</strong></th>
<th><strong>Banana</strong></th>
<th><strong>Avocado</strong></th>
<th><strong>Non-Permissive</strong></th>
</tr></thead>
<tbody>
<tr class="odd">
<td><code>arrangeDS</code></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>asTibbleDS</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>bindColsDS</code></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>bindRowsDS</code></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>caseWhenDS</code></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>distinctDS</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>filterDS</code></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>groupByDS</code></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>groupKeysDS</code></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>mutateDS</code></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="odd">
<td><code>renameDS</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="even">
<td><code>selectDS</code></td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr class="odd">
<td><code>sliceDS</code></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td><code>ungroupDS</code></td>
<td>✔</td>
<td>✔</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="permitted-functions">Permitted functions<a class="anchor" aria-label="anchor" href="#permitted-functions"></a>
</h2>
<p>dsTidyverse allows additional functions to be passed via the
<code>tidy_expr</code> argument. For example, using ds.mutate you can
pass <code>as.numeric</code>:</p>
<pre><code><span><span class="fu">ds.mutate</span><span class="op">(</span><span class="st">"mtcars"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span>, <span class="st">"newobj"</span><span class="op">)</span></span></code></pre>
<p>Functions are only allowed to be passed which do not risk disclosing
individual level data. The default list of allowed functions is:</p>
<pre><code>"everything", "last_col", "group_cols", "starts_with", "ends_with", "contains",
"matches", "num_range", "all_of", "any_of", "where", "rename", "mutate", "if_else",
"case_when", "mean", "median", "mode", "desc", "last_col", "nth", "where", "num_range",
"exp", "sqrt", "scale", "round", "floor", "ceiling", "abs", "sd", "var",
"sin", "cos", "tan", "asin", "acos", "atan", "c", "as.character", "as.integer",
"lag", "diff", "cumsum"</code></pre>
<p>These defaults can be managed by the data owner on their server using
the option <code>tidyverse.permitted.functions</code>. For example, if
as a data owner you want to restrict the permitted functions to
<code>as.numeric</code> and <code>as.integer</code>, you can set the
option
<code>tidyverse.permitted.functions = c("as.numeric", "as.integer")</code>.</p>
<p><strong>WARNING:</strong> This feature gives the data manager the
option to restrict allowed functions, but also to allow additional
functions. If you choose to allow functions not included in the default
list, please take steps to ensure that they are compatible with your
research setting, and in sensitive settings with secure data they do not
risk returning individual level data to the researcher. If you have
doubts please contact the maintainers of dsTidyverse who can discuss the
risks with you.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Tim Cadman, Mariska Slofstra, Stuart Wheater, Demetris Avraam.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer>
</div>






  </body>
</html>
